!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=61)}([function(t,e,n){var r=n(35),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(79),i=n(82);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(36),i=n(130),o=n(22);t.exports=function(t,e){return t&&t.length?r(t,o(e,2),i):void 0}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(9),i=n(5),o="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||i(t)&&r(t)==o}},function(t,e,n){var r=n(0).Symbol;t.exports=r},function(t,e){t.exports=vendor},function(t,e,n){var r=n(7),i=n(65),o=n(66),s="[object Null]",a="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?a:s:u&&u in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(36),i=n(22),o=n(129);t.exports=function(t,e){return t&&t.length?r(t,i(e,2),o):void 0}},function(t,e,n){var r=n(37),i=n(26);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){var r=n(69),i=n(70),o=n(71),s=n(72),a=n(73);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},function(t,e,n){var r=n(20);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(2)(Object,"create");t.exports=r},function(t,e,n){var r=n(91);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(57),i=n(109),o=n(11);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e,n){var r=n(6),i=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(148)();t.exports=r},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(64),i=n(5),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=u},function(t,e,n){var r=n(67),i=n(116),o=n(18),s=n(1),a=n(126);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?s(t)?i(t[0],t[1]):r(t):a(t)}},function(t,e,n){var r=n(2)(n(0),"Map");t.exports=r},function(t,e,n){var r=n(83),i=n(90),o=n(92),s=n(93),a=n(94);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=null==e?n:e)&&("number"==i||"symbol"!=i&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){var r=n(1),i=n(6),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||s.test(t)||!o.test(t)||null!=e&&t in Object(e)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(12),i=n(74),o=n(75),s=n(76),a=n(77),u=n(78);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=a,c.prototype.set=u,t.exports=c},function(t,e,n){(function(t){var r=n(0),i=n(107),o=e&&!e.nodeType&&e,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o?r.Buffer:void 0,u=(a?a.isBuffer:void 0)||i;t.exports=u}).call(this,n(32)(t))},function(t,e,n){t.exports=n(8)(52)},function(t,e,n){var r=n(111),i=n(23),o=n(112),s=n(113),a=n(114),u=n(9),c=n(38),l=c(r),h=c(i),f=c(o),p=c(s),v=c(a),d=u;(r&&"[object DataView]"!=d(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=d(new i)||o&&"[object Promise]"!=d(o.resolve())||s&&"[object Set]"!=d(new s)||a&&"[object WeakMap]"!=d(new a))&&(d=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case h:return"[object Map]";case f:return"[object Promise]";case p:return"[object Set]";case v:return"[object WeakMap]"}return e}),t.exports=d},function(t,e,n){var r=n(29),i=n(62);t.exports=function t(e,n,o,s,a){var u=-1,c=e.length;for(o||(o=i),a||(a=[]);++u<c;){var l=e[u];n>0&&o(l)?n>1?t(l,n-1,o,s,a):r(a,l):s||(a[a.length]=l)}return a}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(63))},function(t,e,n){var r=n(6);t.exports=function(t,e,n){for(var i=-1,o=t.length;++i<o;){var s=t[i],a=e(s);if(null!=a&&(void 0===u?a==a&&!r(a):n(a,u)))var u=a,c=s}return c}},function(t,e,n){var r=n(9),i=n(4),o="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==s||e==a||e==o||e==u}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(95),i=n(5);t.exports=function t(e,n,o,s,a){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,s,t,a))}},function(t,e,n){var r=n(96),i=n(99),o=n(100),s=1,a=2;t.exports=function(t,e,n,u,c,l){var h=n&s,f=t.length,p=e.length;if(f!=p&&!(h&&p>f))return!1;var v=l.get(t);if(v&&l.get(e))return v==e;var d=-1,b=!0,y=n&a?new r:void 0;for(l.set(t,e),l.set(e,t);++d<f;){var g=t[d],x=e[d];if(u)var m=h?u(x,g,d,e,t,l):u(g,x,d,t,e,l);if(void 0!==m){if(m)continue;b=!1;break}if(y){if(!i(e,function(t,e){if(!o(y,e)&&(g===t||c(g,t,n,u,l)))return y.push(e)})){b=!1;break}}else if(g!==x&&!c(g,x,n,u,l)){b=!1;break}}return l.delete(t),l.delete(e),b}},function(t,e,n){var r=n(105),i=n(56),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(t){return null==t?[]:(t=Object(t),r(s(t),function(e){return o.call(t,e)}))}:i;t.exports=a},function(t,e,n){var r=n(108),i=n(27),o=n(43),s=o&&o.isTypedArray,a=s?i(s):r;t.exports=a},function(t,e,n){(function(t){var r=n(35),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===i&&r.process,a=function(){try{var t=o&&o.require&&o.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a}).call(this,n(32)(t))},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(4);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},function(t,e,n){var r=n(48),i=n(17);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e,n){var r=n(1),i=n(28),o=n(118),s=n(121);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(s(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(20),i=n(11),o=n(25),s=n(4);t.exports=function(t,e,n){if(!s(n))return!1;var a=typeof e;return!!("number"==a?i(n)&&o(e,n.length):"string"==a&&e in n)&&r(n[e],t)}},function(t,e,n){var r=n(34),i=1/0;t.exports=function(t){return null!=t&&t.length?r(t,i):[]}},function(t,e,n){var r=n(34),i=n(131),o=n(141),s=n(50),a=o(function(t,e){if(null==t)return[];var n=e.length;return n>1&&s(t,e[0],e[1])?e=[]:n>2&&s(e[0],e[1],e[2])&&(e=[e[0]]),i(t,r(e,1),[])});t.exports=a},function(t,e,n){var r=n(0).Uint8Array;t.exports=r},function(t,e,n){var r=n(55),i=n(41),o=n(16);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(29),i=n(1);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(106),i=n(21),o=n(1),s=n(31),a=n(25),u=n(42),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),l=!n&&i(t),h=!n&&!l&&s(t),f=!n&&!l&&!h&&u(t),p=n||l||h||f,v=p?r(t.length,String):[],d=v.length;for(var b in t)!e&&!c.call(t,b)||p&&("length"==b||h&&("offset"==b||"parent"==b)||f&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||a(b,d))||v.push(b);return v}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(2),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},,function(t,e,n){"use strict";n.r(e);var r=n(51),i=n.n(r),o=n(10),s=n.n(o),a=n(3),u=n.n(a);function c(t){t=i()(t);const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);const n={minX:s()(e,t=>t[0])[0],minY:s()(e,t=>t[1])[1],maxX:u()(e,t=>t[0])[0],maxY:u()(e,t=>t[1])[1],within:t=>this.withinX(t)&&this.withinY(t),withinX:t=>t[0]<=this.maxX&&t[0]>=this.minX,withinY:t=>t[1]<=this.maxY&&t[1]>=this.minY};return n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.area=n.width*n.height,n.points=[[n.minX,n.minY],[n.minX,n.maxY],[n.maxX,n.maxY],[n.maxX,n.minY]],n.center=[n.minX+n.width/2,n.minY+n.height/2],n}var l=n(19),h=n.n(l);const f=n(154);function p(t,e){let n=void 0;return e.forEach(e=>{void 0===n&&e.forEach((r,i)=>{void 0===n&&f(t,r)&&(n=0==i&&e)})}),n}function v(t,e,n){const r=[];return h()(t.minX,t.maxX+1,(t.width+1)/e).forEach(i=>{h()(t.minY,t.maxY+1,(t.height+1)/e).forEach(t=>{const e=[i,t],o=p(e,n);o&&r.push({point:e,shape:o})})}),r}function d(t){if("undefined"==typeof document){const{createCanvas:r}=n(152)("canvas");e=r(Math.ceil(t[0]),Math.ceil(t[1]))}else{var e;(e=document.createElement("canvas")).width=Math.ceil(t[0]),e.height=Math.ceil(t[1])}return e}function b(t,e){if(t.type&&"FeatureCollection"===t.type)t.features.forEach(t=>{b(t,e)});else switch(t.geometry.type){case"MultiPolygon":t.geometry.coordinates.forEach((t,n)=>{e(t,n)});break;case"Polygon":var n=t.geometry.coordinates;e(n,0);break;default:throw"geometry type "+t.geometry.type+" not supported"}}var y=n(52),g=n.n(y),x=1e5;function m(t,e,n,r){var i=e+2*t*n,o=Math.sqrt(1+Math.pow(i,2)),s=function(a){if(0==t)return n+r/Math.sqrt(1+Math.pow(e,2));var u=function(n){var s=e+2*t*n,a=Math.sqrt(1+Math.pow(s,2));return n+a*(4*t*r+i*o-s*a+Math.asinh(i)-Math.asinh(s))/(2*t*(2+2*Math.pow(s,2)))}(a);return a-u<=1/x?Math.floor(Math.round(a*x))/x:s(u)};return s(n+r/o)}const w=n(153),_=n(155),j=n(154);class P{constructor(t,e){this.rawData=t,this.longestLine={slope:null,intercept:null,angle:null,pslope:null,pintercept:null},this.ray={start:null,end:null,center:null,length:null},this.boundaryPoints={first:null,last:null},this.reverseLetters=null,this.fontSize=null,this.landArea=null,this.spline=null,this.relativeSplineEquation=null,this.relativeMidPoints=[],this.letterData=[],this.midPointRays=[],this.shapesArea=0,this.systemOmitted=!1,this.p2World=new w.World,this.letters=t.label.split(""),this.polygons=t.shapes.map(t=>t.vertices),this.bbox=c([this.polygons]),Object.assign(this,e),this.worldCtx=this.worldCanvas.getContext("2d"),this.calculateLetters()}getMidPoint(t,e){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}calcPolygonArea(t){for(var e=0,n=0,r=t.length;n<r;n++){e+=t[n][0]*t[n===t.length-1?0:n+1][1]*.5,e-=t[n===t.length-1?0:n+1][0]*t[n][1]*.5}return Math.abs(e)}rayFromHitPoints(t){if(t.length<2)return!1;var e=t[0].point[0]===t[1].point[0]?1:0;return[s()(t,t=>t.point[e]),u()(t,t=>t.point[e])]}getDist(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}getSlope(t,e){return(e[1]-t[1])/(e[0]-t[0])}getPerpendicularSlope(t){var e;switch(t){case 0:case-0:e=1/0;break;case 1/0:case-1/0:e=0;break;default:e=-1/t}return e}getHitPoints(t,e){var n=[],r=new w.Ray({mode:w.Ray.ALL,from:t,to:e,callback:t=>{var e=w.vec2.create();t.getHitPoint(e,r),t.hasHit()&&n.push({point:[e[0],e[1]],body:t.body})}}),i=new w.RaycastResult;return this.p2World.raycast(i,r),n}groupSegments(t){var e,n,r=[],i=[],o=[],s=Math.sqrt(this.bbox.height*this.bbox.width)*(1/this.landArea),a=()=>{var r=()=>{o.length>0&&i.push(o),o=[]};return void 0===(e=t.shift())?r():e[0].body.excluded?(r(),a()):(o.push(e),void 0===(n=t[0])?r():(this.getDist(e[1].point,n[0].point)>s&&r(),a()))};return a(),i.forEach(t=>{const e=[];t.forEach(t=>{e.push(t[0],t[1])});const n=this.rayFromHitPoints(e);n&&r.push(n)}),r}computeRay(t,e){var n=t[0]===e[0]?1:0,r=this.getHitPoints(t,e);if(0==r.length||r.length%2!=0)return!1;for(var i,o,s=g()(r,[t=>t.point[n]]),a=[],c=0;c<s.length;c+=2){var l=s[c],h=s[c+1];a.push([l,h])}return 1===a.length?[a[0][0].point,a[0][1].point]:(i=this.groupSegments(a),[(o=u()(i,t=>this.getDist(t[0].point,t[1].point)))[0].point,o[1].point])}translate(t,e,n){var r=-Math.atan(n),i=[];i.push(t[0]-e[0]),i.push(t[1]-e[1]);var o=this.rotateAroundPoint(i,r);return o[0]=n<0?-o[0]:o[0],o}untranslate(t,e,n){var r=n<0?-t[0]:t[0],i=t[1],o=Math.atan(n),s=this.rotateAroundPoint([r,i],o),a=[];return a.push(s[0]+e[0]),a.push(s[1]+e[1]),a}rotateAroundPoint(t,e){var n=t[0],r=t[1];return[n*Math.cos(e)-r*Math.sin(e),n*Math.sin(e)+r*Math.cos(e)]}newLine(t,e,n){var r,i,o,s;return Math.abs(t)===1/0?(o=[e,this.bbox.minY],s=[e,this.bbox.maxY]):n?(r=t*this.bbox.minY+e,i=t*this.bbox.maxY+e,o=[r,this.bbox.minY],s=[i,this.bbox.maxY]):(r=t*this.bbox.minX+e,i=t*this.bbox.maxX+e,o=[this.bbox.minX,r],s=[this.bbox.maxX,i]),{start:o,end:s}}regressionLines(t,e,n){const r=n?this.bbox.width/10:this.bbox.height/10,i=[],o=(e,r)=>{r+=e;var s=this.newLine(t,r,n);(j(s.start,this.bbox.points)||j(s.end,this.bbox.points))&&(i.push(s),o(e,r))};return i.push(this.newLine(t,e,n)),o(r,e),o(-r,e),i}addPerpendicularRelativeMidPoint(t,e,n){var r=this.computeRay(t,e);if(!r)return!1;var i=this.getMidPoint(r[0],r[1]),o=this.getDist(n,this.ray.center),s=this.getDist(i,n),a=(t,e,n,r,o)=>Math.abs(t)===1/0&&(t=>{return Math.floor(Math.round(1e4*t))/1e4})(r[o]-n[o])<=0||i[1]<t*i[0]+e;a(this.longestLine.pslope,this.longestLine.pintercept,n,this.ray.center,0)&&(o*=-1),a(this.longestLine.slope,this.longestLine.intercept,i,n,1)&&(s*=-1);var u=[o,s];return this.relativeMidPoints.push(u),this.midPointRays.push([r[0],r[1]]),u}findMidPoint(t,e){const n=e=>{var n,r;return r=Math.abs(t)===1/0?e[0]:e[1]-t*e[0],n=this.newLine(t,r),this.addPerpendicularRelativeMidPoint(n.start,n.end,e)};for(var r=Math.abs(this.longestLine.slope)===1/0?1:0,i=Math.abs(this.ray.end[r]-this.ray.start[r])/50,o=0;o<=50;o++){var s;if([1,-1].forEach(t=>{s||(s=Math.abs(this.longestLine.slope)===1/0?n([e[0],e[1]+o*i*t]):0==Math.abs(this.longestLine.slope)?n([e[0]+o*i*t,e[1]]):n([e[0]+o*i*t,e[1]+o*i*this.longestLine.slope*t]))}),s)return s}return!1}getTextWidth(t){return this.worldCtx.font=t+"px sans-serif",this.worldCtx.measureText(this.rawData.label).width}placeLetters(t){this.worldCtx.font=this.fontSize+"px sans-serif";var e=[],n=this.worldCtx.measureText(" ").width/4,r=t;return this.letters.forEach(t=>{var i=this.worldCtx.measureText(t).width+n;e.push({letter:t,point:r,width:i});var o=this.reverseLetters?-i:i,s=m(this.relativeSplineEquation[2],this.relativeSplineEquation[1],r[0],o),a=this.relativeSplineEquation[2]*Math.pow(s,2)+this.relativeSplineEquation[1]*s+this.relativeSplineEquation[0];r=[s,a]}),e}getExtremePoint(t){var e,n,r,i="first"==t?-1:1,o=this.ray.length/50,s=t=>{var e=t*o,n=this.relativeSplineEquation[2]*Math.pow(e,2)+this.relativeSplineEquation[1]*e+this.relativeSplineEquation[0];return{absolute:this.untranslate([e,n],this.ray.center,this.longestLine.slope),relative:[e,n]}};if(h()(0,50).forEach(t=>{p((r=s(t*i)).absolute,this.polygons)?e=r:e&&(n=r)}),e&&n){var a=this.getHitPoints(e.absolute,n.absolute)[0].point;return{absolute:a,relative:this.translate(a,this.ray.center,this.longestLine.slope)}}return s(25*i)}addDataToPhysicsWorld(){this.rawData.shapes.forEach(t=>{t.vertices.forEach((e,n)=>{var r,i=new w.Body;0==n?(r=new w.Convex({vertices:e}),this.shapesArea+=this.calcPolygonArea(e)):(r=new w.Convex({vertices:e.slice().reverse()}),this.shapesArea-=this.calcPolygonArea(e),this.excludeHoles&&(i.excluded=!0)),t.excluded&&(i.excluded=!0),i.addShape(r),this.p2World.addBody(i)})})}calculateLetters(){if(this.addDataToPhysicsWorld(),this.shapesArea/(this.totalBbox.width*this.totalBbox.height)<=1e-4)return this.systemOmitted=!0,!1;this.landArea=this.shapesArea/(this.bbox.width*this.bbox.height);const t=v(this.bbox,this.pointDensity,this.polygons).map(t=>t.point),e=[];t.forEach(t=>{e.push([t[1],t[0]])});let n=_("linear",t),r=_("linear",e);const i=this.regressionLines(n.equation[0],n.equation[1]).concat(this.regressionLines(r.equation[0],r.equation[1],!0)),o=[];i.forEach(t=>{var e=this.computeRay(t.start,t.end);e&&o.push(e)});const s=u()(o,t=>this.getDist(t[0],t[1]));this.ray.start=s[0],this.ray.end=s[1],this.ray.center=this.getMidPoint(this.ray.start,this.ray.end),this.ray.length=this.getDist(this.ray.start,this.ray.end);const a=[];a.push(this.getMidPoint(this.ray.start,this.ray.center)),a.push(this.ray.center),a.push(this.getMidPoint(this.ray.center,this.ray.end)),this.longestLine.slope=this.getSlope(this.ray.start,this.ray.end),Math.abs(this.longestLine.slope)==1/0&&this.ray.center[0]>this.bbox.minX+this.bbox.width/2&&(this.longestLine.slope*=-1),this.longestLine.angle=Math.atan(this.longestLine.slope),this.longestLine.intercept=this.ray.center[1]-this.longestLine.slope*this.ray.center[0],this.longestLine.pslope=-1/this.longestLine.slope,this.longestLine.pintercept=this.ray.center[1]- -1/this.longestLine.slope*this.ray.center[0],a.forEach(t=>{this.findMidPoint(this.longestLine.pslope,t)}),this.spline=_("polynomial",this.relativeMidPoints,2),this.relativeSplineEquation=this.spline.equation,this.boundaryPoints.first=this.getExtremePoint("first"),this.boundaryPoints.last=this.getExtremePoint("last"),this.longestLine.slope<0&&(this.reverseLetters=!0,this.boundaryPoints.last=[this.boundaryPoints.first,this.boundaryPoints.first=this.boundaryPoints.last][0]);var c=.8*Math.abs((()=>{var t=this.relativeSplineEquation[2],e=this.relativeSplineEquation[1];if(0==t)return this.getDist(this.boundaryPoints.last.relative,this.boundaryPoints.first.relative);var n=n=>{var r=n[0],i=2*t*r+e;return(i*Math.sqrt(1+Math.pow(i,2))+Math.asinh(i))/(4*t)};return n(this.boundaryPoints.last.relative)-n(this.boundaryPoints.first.relative)})()),l=(this.getTextWidth(20)-this.getTextWidth(10))/10;this.fontSize=c/l;let h=this.placeLetters(this.boundaryPoints.first.relative),f=this.getDist(h[h.length-1].point,this.boundaryPoints.last.relative);f-=this.worldCtx.measureText(this.rawData.label[this.rawData.label.length-1]).width,this.longestLine.slope<0&&(f*=-1);const p=m(this.relativeSplineEquation[2],this.relativeSplineEquation[1],this.boundaryPoints.first.relative[0],f/2),d=this.relativeSplineEquation[2]*Math.pow(p,2)+this.relativeSplineEquation[1]*p+this.relativeSplineEquation[0];(h=this.placeLetters([p,d])).forEach(t=>{var e=t.point;if(e){var n=this.worldCtx.measureText(t.letter).width/2,r=this.longestLine.slope>0?e[0]+n:e[0]-n,i=2*this.relativeSplineEquation[2]*r+this.relativeSplineEquation[1],o=Math.atan(i);this.longestLine.slope<0&&(o*=-1),o+=this.longestLine.angle;var s=this.getPerpendicularSlope(i),a=Math.atan(s),u=this.fontSize/4;s<0&&(u*=-1);var c=e[0]+u*Math.cos(a),l=e[1]+u*Math.sin(a),h=this.untranslate([c,l],this.ray.center,this.longestLine.slope);this.letterData.push({letter:t.letter,width:t.width,angle:o,point:h})}})}isOmitted(){return this.systemOmitted}getSplineData(){return{spline:this.spline,firstPoint:this.boundaryPoints.first,lastPoint:this.boundaryPoints.last,relativeMidPoints:this.relativeMidPoints,midPointRays:this.midPointRays,longestRay:{start:this.ray.start,end:this.ray.end,center:this.ray.center,length:this.ray.length,slope:this.longestLine.slope,angle:this.longestLine.angle,intercept:this.longestLine.intercept,pslope:this.longestLine.pslope,pintercept:this.longestLine.pintercept}}}getLabelData(){return{letters:this.letterData,fontSize:this.fontSize}}getVertices(){return this.polygons}drawGeometry(){const t=d([this.worldCanvas.width,this.worldCanvas.height]),e=t.getContext("2d");return this.rawData.shapes.forEach(t=>{e.fillStyle=t.excluded?"#777":"#CCC",e.strokeStyle="#000",e.beginPath(),t.vertices.forEach(t=>{t.forEach((t,n)=>{0==n?e.moveTo(t[0],t[1]):e.lineTo(t[0],t[1])}),e.closePath()}),e.stroke(),e.fill()}),t}debugDraw(t){void 0===t&&(t={});const e=d([this.worldCanvas.width,this.worldCanvas.height]);if(this.systemOmitted)return e;const n=e.getContext("2d"),r=this.getSplineData(),i=-(r.lastPoint.relative[0]-r.firstPoint.relative[0])/20,o=r.spline.equation;if(!0===t.drawLetterPlacement){let t=this.getLabelData();n.strokeStyle="#80F",n.fillStyle="#80F",n.lineWidth=1,t.letters.forEach(e=>{n.save(),n.translate(e.point[0],e.point[1]),n.rotate(e.angle),n.beginPath(),n.moveTo(0,0),n.lineTo(0,-t.fontSize),n.lineTo(e.width,-t.fontSize),n.lineTo(e.width,0),n.lineTo(0,0),n.stroke(),n.beginPath(),n.arc(e.width/2,0,3,2*Math.PI,0),n.closePath(),n.fill(),n.restore()})}n.strokeStyle="#0F0",n.lineWidth=2,n.beginPath();for(let t=0;t<=20;t++){let e=r.lastPoint.relative[0]+t*i,s=o[2]*Math.pow(e,2)+o[1]*e+o[0],a=this.untranslate([e,s],r.longestRay.center,r.longestRay.slope);0==t?n.moveTo(a[0],a[1]):n.lineTo(a[0],a[1])}n.stroke(),n.strokeStyle="#0FF",n.beginPath();let s=r.longestRay.start;return n.moveTo(s[0],s[1]),s=r.longestRay.end,n.lineTo(s[0],s[1]),n.stroke(),n.strokeStyle="#F0C",n.fillStyle="#F0C",n.lineWidth=2,r.midPointRays.forEach(t=>{n.beginPath(),n.moveTo(t[0][0],t[0][1]),n.lineTo(t[1][0],t[1][1]),n.stroke(),n.beginPath(),n.arc(t[0][0],t[0][1],3,2*Math.PI,0),n.arc(t[1][0],t[1][1],3,2*Math.PI,0),n.closePath(),n.fill()}),["firstPoint","lastPoint"].map(t=>{return r[t].absolute}).concat(this.relativeMidPoints.map(t=>this.untranslate(t,this.ray.center,this.longestLine.slope))).forEach((t,e)=>{switch(n.beginPath(),n.arc(t[0],t[1],5,2*Math.PI,0),n.closePath(),e){case 0:n.fillStyle="#F00";break;case 1:n.fillStyle="#00F";break;default:n.fillStyle="#0F0"}n.fill()}),e}drawLabel(){var t=d([this.worldCanvas.width,this.worldCanvas.height]);if(this.systemOmitted)return t;var e=t.getContext("2d"),n=this.getLabelData();return e.save(),n.letters.forEach(t=>{var r=d([t.width,n.fontSize+.5*n.fontSize]),i=r.getContext("2d");i.font=n.fontSize+"px sans-serif",i.fillStyle="#000",i.fillText(t.letter,0,n.fontSize),e.save(),e.translate(t.point[0],t.point[1]),e.rotate(t.angle),e.drawImage(r,0,-n.fontSize),e.restore()}),e.restore(),t}}var M=n(201);n.d(e,"RegionLabel",function(){return S});class S{constructor(t,e){this.opts=Object.assign({pointDensity:50,canvasDims:[256,256],label:function(t){return t.NAME},excludeFeatures:function(){return!1},excludeHoles:!0,wrapLongitude:!0,wrapLongitudeTolerance:180,dbscanClustering:!1,dbscanPointDensity:10,forceSingleLabel:!1},e),this.bbox={absolute:null,normalized:null},this.margin=e.margin||0,this.worldCanvas=e.canvas||d(e.canvasDims),this.groupData=[],this.labelGroups=[],this.createGroupings(t),this.normalizeVertices(this.worldCanvas),this.calculateGroupLabels()}createGroupings(t){this.opts.wrapLongitude&&function t(e,n){if(e.type&&"FeatureCollection"===e.type)e.features.forEach(e=>{t(e,n)});else{n=n||180;var r,i=(t,e)=>Math.abs(e-t)<n,o=[];b(e,(t,e)=>{o.push([]),t.forEach(t=>{var n=c([[t]]);o[e].push(n),r?r.area<n.area&&(r=n):r=n})}),b(e,(t,e)=>{t.forEach((n,s)=>{var a=o[e][s],u=[];if(i(a.minX,a.maxX))u=n.slice();else{var l=null;n.forEach(t=>{var e=null;if(l&&!i(l[0],t[0])){var n=l[0]<t[0]?-360:360;e=[t[0]+n,t[1]],l=e}else l=t,e=t.slice();u.push(e)}),a=c([[u]])}if(i(r.center[0],a.center[0]))t[s]=u;else{var h=r.center[0]<a.center[0]?-360:360,f=[];u.forEach(t=>{f.push([t[0]+h,t[1]])}),t[s]=f}})})}}(t,this.opts.wrapLongitudeTolerance);const e=[];b(t,t=>{e.push(t)}),this.bbox.absolute=c(e);const n=()=>{const t={shapes:[],label:null};return this.groupData.push(t),t};let r;const i=t=>{const e=[];b(t,t=>{e.push(t)});const i="function"==typeof this.opts.label?this.opts.label(t.properties):this.opts.label,o=this.opts.excludeFeatures(t.properties);if(this.opts.dbscanClustering){const t=new M.DBSCAN,s=v(this.bbox.absolute,this.opts.dbscanPointDensity,e),a={};let u=this.bbox.absolute.width/this.opts.dbscanPointDensity;u+=u/10;const c=s.map(t=>t.point);s.forEach((t,e)=>{a[e]=t.shape}),t.run(c,u,2).forEach(t=>{const e=[];t.forEach(t=>{const n=a[t];-1==e.indexOf(n)&&e.push(a[t])}),(r=n()).label=i,r.shapes=e.map(t=>({excluded:o,vertices:t}))})}else this.opts.forceSingleLabel&&void 0!==r||(r=n()),r.label=i,r.shapes=r.shapes.concat(e.map(t=>({excluded:o,vertices:t})))};t.type&&"FeatureCollection"===t.type?t.features.forEach(i.bind(this)):i(t)}normalizeVertices(t){var e,n,r,i,o,s=[];s.push(t.width-this.margin),s.push(t.height-this.margin);const a=this.bbox.absolute;var u=t=>[(o==r?s[0]/2-e/2:0)+this.margin/2+r*(t[0]-a.minX),(i==r?s[1]/2-n/2:0)+this.margin/2+-r*(t[1]-a.maxY)];i=s[0]/a.width,o=s[1]/a.height,r=Math.min(i,o),e=r*a.width,n=r*a.height,this.groupData.forEach(t=>{t.shapes.forEach(t=>{const e=[];t.vertices.forEach(t=>{const n=[];t.forEach(t=>{n.push(u(t))}),e.push(n)}),t.vertices=e})});const l=this.groupData.map(t=>t.shapes.map(t=>t.vertices));this.bbox.normalized=c(l)}calculateGroupLabels(){this.groupData.forEach(t=>{this.labelGroups.push(new P(t,{totalBbox:this.bbox.normalized,worldCanvas:this.worldCanvas,excludeHoles:this.opts.excludeHoles,pointDensity:this.opts.pointDensity}))})}drawEachGroup(t,e){const n=d([this.worldCanvas.width,this.worldCanvas.height]),r=n.getContext("2d");return this.labelGroups.forEach(n=>{r.drawImage(n[t].apply(n,e),0,0)}),n}getLabelGroups(){return this.labelGroups}drawLabels(){return this.drawEachGroup("drawLabel")}debugDraw(){return this.drawEachGroup("debugDraw")}drawGeometries(){return this.drawEachGroup("drawGeometry")}}},function(t,e,n){var r=n(7),i=n(21),o=n(1),s=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(s&&t&&t[s])}},function(t,e,n){t.exports=n(8)(51)},function(t,e,n){var r=n(9),i=n(5),o="[object Arguments]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e,n){var r=n(7),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(e?t[a]=n:delete t[a]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(68),i=n(115),o=n(46);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(30),i=n(39),o=1,s=2;t.exports=function(t,e,n,a){var u=n.length,c=u,l=!a;if(null==t)return!c;for(t=Object(t);u--;){var h=n[u];if(l&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++u<c;){var f=(h=n[u])[0],p=t[f],v=h[1];if(l&&h[2]){if(void 0===p&&!(f in t))return!1}else{var d=new r;if(a)var b=a(p,v,f,t,e,d);if(!(void 0===b?i(v,p,o|s,a,d):b))return!1}}return!0}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(13),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},function(t,e,n){var r=n(13);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(13);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(13);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(12);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(12),i=n(23),o=n(24),s=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<s-1)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(37),i=n(80),o=n(4),s=n(38),a=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,h=c.hasOwnProperty,f=RegExp("^"+l.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?f:a).test(s(t))}},function(t,e,n){var r,i=n(81),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},function(t,e,n){var r=n(0)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(84),i=n(12),o=n(23);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(85),i=n(86),o=n(87),s=n(88),a=n(89);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},function(t,e,n){var r=n(14);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(14),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===i?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(14),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(14),i="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?i:e,this}},function(t,e,n){var r=n(15);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(15);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(15);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(15);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(30),i=n(40),o=n(101),s=n(104),a=n(33),u=n(1),c=n(31),l=n(42),h=1,f="[object Arguments]",p="[object Array]",v="[object Object]",d=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,b,y,g){var x=u(t),m=u(e),w=x?p:a(t),_=m?p:a(e),j=(w=w==f?v:w)==v,P=(_=_==f?v:_)==v,M=w==_;if(M&&c(t)){if(!c(e))return!1;x=!0,j=!1}if(M&&!j)return g||(g=new r),x||l(t)?i(t,e,n,b,y,g):o(t,e,w,n,b,y,g);if(!(n&h)){var S=j&&d.call(t,"__wrapped__"),E=P&&d.call(e,"__wrapped__");if(S||E){var L=S?t.value():t,O=E?e.value():e;return g||(g=new r),y(L,O,n,b,g)}}return!!M&&(g||(g=new r),s(t,e,n,b,y,g))}},function(t,e,n){var r=n(24),i=n(97),o=n(98);function s(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,t.exports=s},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(7),i=n(53),o=n(20),s=n(40),a=n(102),u=n(103),c=1,l=2,h="[object Boolean]",f="[object Date]",p="[object Error]",v="[object Map]",d="[object Number]",b="[object RegExp]",y="[object Set]",g="[object String]",x="[object Symbol]",m="[object ArrayBuffer]",w="[object DataView]",_=r?r.prototype:void 0,j=_?_.valueOf:void 0;t.exports=function(t,e,n,r,_,P,M){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case m:return!(t.byteLength!=e.byteLength||!P(new i(t),new i(e)));case h:case f:case d:return o(+t,+e);case p:return t.name==e.name&&t.message==e.message;case b:case g:return t==e+"";case v:var S=a;case y:var E=r&c;if(S||(S=u),t.size!=e.size&&!E)return!1;var L=M.get(t);if(L)return L==e;r|=l,M.set(t,e);var O=s(S(t),S(e),r,_,P,M);return M.delete(t),O;case x:if(j)return j.call(t)==j.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},function(t,e,n){var r=n(54),i=1,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,s,a,u){var c=n&i,l=r(t),h=l.length;if(h!=r(e).length&&!c)return!1;for(var f=h;f--;){var p=l[f];if(!(c?p in e:o.call(e,p)))return!1}var v=u.get(t);if(v&&u.get(e))return v==e;var d=!0;u.set(t,e),u.set(e,t);for(var b=c;++f<h;){var y=t[p=l[f]],g=e[p];if(s)var x=c?s(g,y,p,e,t,u):s(y,g,p,t,e,u);if(!(void 0===x?y===g||a(y,g,n,s,u):x)){d=!1;break}b||(b="constructor"==p)}if(d&&!b){var m=t.constructor,w=e.constructor;m!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof w&&w instanceof w)&&(d=!1)}return u.delete(t),u.delete(e),d}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(9),i=n(26),o=n(5),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!s[r(t)]}},function(t,e,n){var r=n(44),i=n(110),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(58)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(2)(n(0),"DataView");t.exports=r},function(t,e,n){var r=n(2)(n(0),"Promise");t.exports=r},function(t,e,n){var r=n(2)(n(0),"Set");t.exports=r},function(t,e,n){var r=n(2)(n(0),"WeakMap");t.exports=r},function(t,e,n){var r=n(45),i=n(16);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],s=t[o];e[n]=[o,s,r(s)]}return e}},function(t,e,n){var r=n(39),i=n(117),o=n(123),s=n(28),a=n(45),u=n(46),c=n(17),l=1,h=2;t.exports=function(t,e){return s(t)&&a(e)?u(c(t),e):function(n){var s=i(n,t);return void 0===s&&s===e?o(n,t):r(e,s,l|h)}}},function(t,e,n){var r=n(47);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e,n){var r=n(119),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=r(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)}),e});t.exports=s},function(t,e,n){var r=n(120),i=500;t.exports=function(t){var e=r(t,function(t){return n.size===i&&n.clear(),t}),n=e.cache;return e}},function(t,e,n){var r=n(24),i="Expected a function";function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e,n){var r=n(122);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(7),i=n(49),o=n(1),s=n(6),a=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(s(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-a?"-0":n}},function(t,e,n){var r=n(124),i=n(125);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(48),i=n(21),o=n(1),s=n(25),a=n(26),u=n(17);t.exports=function(t,e,n){for(var c=-1,l=(e=r(e,t)).length,h=!1;++c<l;){var f=u(e[c]);if(!(h=null!=t&&n(t,f)))break;t=t[f]}return h||++c!=l?h:!!(l=null==t?0:t.length)&&a(l)&&s(f,l)&&(o(t)||i(t))}},function(t,e,n){var r=n(127),i=n(128),o=n(28),s=n(17);t.exports=function(t){return o(t)?r(s(t)):i(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(47);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e){t.exports=function(t,e){return t<e}},function(t,e){t.exports=function(t,e){return t>e}},function(t,e,n){var r=n(49),i=n(22),o=n(132),s=n(138),a=n(27),u=n(139),c=n(18);t.exports=function(t,e,n){var l=-1;e=r(e.length?e:[c],a(i));var h=o(t,function(t,n,i){return{criteria:r(e,function(e){return e(t)}),index:++l,value:t}});return s(h,function(t,e){return u(t,e,n)})}},function(t,e,n){var r=n(133),i=n(11);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,function(t,r,i){o[++n]=e(t,r,i)}),o}},function(t,e,n){var r=n(134),i=n(137)(r);t.exports=i},function(t,e,n){var r=n(135),i=n(16);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e,n){var r=n(136)();t.exports=r},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===n(o[u],u,o))break}return e}}},function(t,e,n){var r=n(11);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,s=e?o:-1,a=Object(n);(e?s--:++s<o)&&!1!==i(a[s],s,a););return n}}},function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},function(t,e,n){var r=n(140);t.exports=function(t,e,n){for(var i=-1,o=t.criteria,s=e.criteria,a=o.length,u=n.length;++i<a;){var c=r(o[i],s[i]);if(c)return i>=u?c:c*("desc"==n[i]?-1:1)}return t.index-e.index}},function(t,e,n){var r=n(6);t.exports=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t==t,s=r(t),a=void 0!==e,u=null===e,c=e==e,l=r(e);if(!u&&!l&&!s&&t>e||s&&a&&c&&!u&&!l||i&&a&&c||!n&&c||!o)return 1;if(!i&&!s&&!l&&t<e||l&&n&&o&&!i&&!s||u&&n&&o||!a&&o||!c)return-1}return 0}},function(t,e,n){var r=n(18),i=n(142),o=n(144);t.exports=function(t,e){return o(i(t,e,r),t+"")}},function(t,e,n){var r=n(143),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,s=-1,a=i(o.length-e,0),u=Array(a);++s<a;)u[s]=o[e+s];s=-1;for(var c=Array(e+1);++s<e;)c[s]=o[s];return c[e]=n(u),r(t,this,c)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(145),i=n(147)(r);t.exports=i},function(t,e,n){var r=n(146),i=n(59),o=n(18),s=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=s},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var n=800,r=16,i=Date.now;t.exports=function(t){var e=0,o=0;return function(){var s=i(),a=r-(s-o);if(o=s,a>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(149),i=n(50),o=n(150);t.exports=function(t){return function(e,n,s){return s&&"number"!=typeof s&&i(e,n,s)&&(n=s=void 0),e=o(e),void 0===n?(n=e,e=0):n=o(n),s=void 0===s?e<n?1:-1:o(s),r(e,n,s,t)}}},function(t,e){var n=Math.ceil,r=Math.max;t.exports=function(t,e,i,o){for(var s=-1,a=r(n((e-t)/(i||1)),0),u=Array(a);a--;)u[o?a:++s]=t,t+=i;return u}},function(t,e,n){var r=n(151),i=1/0,o=1.7976931348623157e308;t.exports=function(t){return t?(t=r(t))===i||t===-i?(t<0?-1:1)*o:t==t?t:0:0===t?t:0}},function(t,e,n){var r=n(4),i=n(6),o=NaN,s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return o;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=u.test(t);return n||c.test(t)?l(t.slice(2),n?2:8):a.test(t)?o:+t}},function(t,e){function n(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=152},function(t,e,n){t.exports=n(8)(58)},function(t,e,n){t.exports=n(8)(55)},function(t,e,n){t.exports=n(8)(56)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports=n(8)(71)}]);
//# sourceMappingURL=region-labels.js.map